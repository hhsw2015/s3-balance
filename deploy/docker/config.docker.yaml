# Docker 配置 - 启用监控
server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 60s

database:
  type: "sqlite"
  dsn: "data/s3-balance.db"
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 300
  log_level: "info"
  auto_migrate: true

# 示例存储桶配置 - 请根据实际情况修改
buckets:
  - name: "minio-bucket"
    endpoint: "http://minio:9000"
    region: "us-east-1"
    access_key_id: "minioadmin"
    secret_access_key: "minioadmin"
    max_size: "1GB"
    weight: 10
    enabled: true
    use_ssl: false
    path_style: true
    virtual: false

  - name: "user-data"
    endpoint: ""
    region: "us-east-1"
    access_key_id: ""
    secret_access_key: ""
    max_size: "1GB"
    weight: 10
    enabled: true
    use_ssl: true
    path_style: false
    virtual: true

balancer:
  strategy: "least-space"
  health_check_period: 30s
  update_stats_period: 60s
  retry_attempts: 3
  retry_delay: 1s

# 监控指标 - 启用状态
metrics:
  enabled: true
  path: "/metrics"

s3api:
  access_key: "AKIAIOSFODNN7EXAMPLE"
  secret_key: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
  virtual_host: false
  proxy_mode: false
  auth_required: false